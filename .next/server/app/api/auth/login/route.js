"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/auth/login/route";
exports.ids = ["app/api/auth/login/route"];
exports.modules = {

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("@prisma/client");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "os":
/*!*********************!*\
  !*** external "os" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("os");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fauth%2Flogin%2Froute&page=%2Fapi%2Fauth%2Flogin%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2Flogin%2Froute.js&appDir=%2Fhome%2Fmrlamor%2Fempowerability%2Ffrontend%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Fmrlamor%2Fempowerability%2Ffrontend&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fauth%2Flogin%2Froute&page=%2Fapi%2Fauth%2Flogin%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2Flogin%2Froute.js&appDir=%2Fhome%2Fmrlamor%2Fempowerability%2Ffrontend%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Fmrlamor%2Fempowerability%2Ffrontend&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_node_polyfill_headers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/node-polyfill-headers */ \"(rsc)/./node_modules/next/dist/server/node-polyfill-headers.js\");\n/* harmony import */ var next_dist_server_node_polyfill_headers__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_node_polyfill_headers__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var _home_mrlamor_empowerability_frontend_app_api_auth_login_route_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/auth/login/route.js */ \"(rsc)/./app/api/auth/login/route.js\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_1__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_2__.RouteKind.APP_ROUTE,\n        page: \"/api/auth/login/route\",\n        pathname: \"/api/auth/login\",\n        filename: \"route\",\n        bundlePath: \"app/api/auth/login/route\"\n    },\n    resolvedPagePath: \"/home/mrlamor/empowerability/frontend/app/api/auth/login/route.js\",\n    nextConfigOutput,\n    userland: _home_mrlamor_empowerability_frontend_app_api_auth_login_route_js__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/auth/login/route\";\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZhdXRoJTJGbG9naW4lMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRmF1dGglMkZsb2dpbiUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRmF1dGglMkZsb2dpbiUyRnJvdXRlLmpzJmFwcERpcj0lMkZob21lJTJGbXJsYW1vciUyRmVtcG93ZXJhYmlsaXR5JTJGZnJvbnRlbmQlMkZhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPSUyRmhvbWUlMkZtcmxhbW9yJTJGZW1wb3dlcmFiaWxpdHklMkZmcm9udGVuZCZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFnRDtBQUNzRDtBQUN2QztBQUMrQjtBQUM5RjtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLHVHQUF1RztBQUMvRztBQUNpSjs7QUFFakoiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9lbXBvd2VyYWJpbGl0eS1mcm9udGVuZC8/ZGJmZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgXCJuZXh0L2Rpc3Qvc2VydmVyL25vZGUtcG9seWZpbGwtaGVhZGVyc1wiO1xuaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiL2hvbWUvbXJsYW1vci9lbXBvd2VyYWJpbGl0eS9mcm9udGVuZC9hcHAvYXBpL2F1dGgvbG9naW4vcm91dGUuanNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2F1dGgvbG9naW4vcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9hdXRoL2xvZ2luXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9hdXRoL2xvZ2luL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiL2hvbWUvbXJsYW1vci9lbXBvd2VyYWJpbGl0eS9mcm9udGVuZC9hcHAvYXBpL2F1dGgvbG9naW4vcm91dGUuanNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgaGVhZGVySG9va3MsIHN0YXRpY0dlbmVyYXRpb25CYWlsb3V0IH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvYXV0aC9sb2dpbi9yb3V0ZVwiO1xuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBoZWFkZXJIb29rcywgc3RhdGljR2VuZXJhdGlvbkJhaWxvdXQsIG9yaWdpbmFsUGF0aG5hbWUsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fauth%2Flogin%2Froute&page=%2Fapi%2Fauth%2Flogin%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2Flogin%2Froute.js&appDir=%2Fhome%2Fmrlamor%2Fempowerability%2Ffrontend%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Fmrlamor%2Fempowerability%2Ffrontend&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/auth/login/route.js":
/*!*************************************!*\
  !*** ./app/api/auth/login/route.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/web/exports/next-response */ \"(rsc)/./node_modules/next/dist/server/web/exports/next-response.js\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! bcryptjs */ \"(rsc)/./node_modules/bcryptjs/index.js\");\n/* harmony import */ var _lib_auth_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../lib/auth-utils */ \"(rsc)/./lib/auth-utils.js\");\n/* harmony import */ var _lib_email_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/email-service */ \"(rsc)/./lib/email-service.js\");\n\n\n\n\nasync function POST(request) {\n    try {\n        const { email, password } = await request.json();\n        console.log(\"=== LOGIN ATTEMPT ===\");\n        console.log(\"Email:\", email);\n        if (!email || !password) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                message: \"Email and password are required\"\n            }, {\n                status: 400\n            });\n        }\n        // Find user in database\n        const user = await (0,_lib_auth_utils__WEBPACK_IMPORTED_MODULE_2__.getUserByEmail)(email);\n        console.log(\"User found in database:\", user ? \"Yes\" : \"No\");\n        if (!user) {\n            console.log(\"=== LOGIN FAILED: User not found ===\");\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                message: \"Invalid email or password\"\n            }, {\n                status: 401\n            });\n        }\n        console.log(\"Stored hash exists:\", !!user.password);\n        // Verify password\n        const isPasswordValid = await bcryptjs__WEBPACK_IMPORTED_MODULE_1__[\"default\"].compare(password, user.password);\n        console.log(\"Password valid:\", isPasswordValid);\n        if (!isPasswordValid) {\n            console.log(\"=== LOGIN FAILED: Password mismatch ===\");\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                message: \"Invalid email or password\"\n            }, {\n                status: 401\n            });\n        }\n        console.log(\"=== LOGIN SUCCESS ===\");\n        // Send welcome email in background with timeout protection\n        setTimeout(async ()=>{\n            try {\n                console.log(\"\\uD83C\\uDF89 Attempting to send welcome email...\");\n                const welcomeResult = await (0,_lib_email_service__WEBPACK_IMPORTED_MODULE_3__.sendWelcomeEmail)(user.email, user.name || user.email.split(\"@\")[0]);\n                if (welcomeResult.success) {\n                    console.log(\"‚úÖ Welcome email sent successfully\");\n                } else {\n                    console.log(\"‚ÑπÔ∏è Welcome email not sent:\", welcomeResult.error?.message || \"Unknown error\");\n                // This is non-critical - login still succeeds\n                }\n            } catch (emailError) {\n                console.log(\"‚ÑπÔ∏è Welcome email failed (non-critical):\", emailError.message);\n            // This is non-critical - login still succeeds\n            }\n        }, 100);\n        // Login successful regardless of email outcome\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            success: true,\n            message: \"Login successful\",\n            user: {\n                id: user.id,\n                email: user.email,\n                name: user.name\n            }\n        });\n    } catch (error) {\n        console.error(\"Login error:\", error);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            message: \"Error during login\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL2F1dGgvbG9naW4vcm91dGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBMEM7QUFDYjtBQUM4QjtBQUNKO0FBRWhELGVBQWVJLEtBQUtDLE9BQU87SUFDaEMsSUFBSTtRQUNGLE1BQU0sRUFBRUMsS0FBSyxFQUFFQyxRQUFRLEVBQUUsR0FBRyxNQUFNRixRQUFRRyxJQUFJO1FBRTlDQyxRQUFRQyxHQUFHLENBQUM7UUFDWkQsUUFBUUMsR0FBRyxDQUFDLFVBQVVKO1FBRXRCLElBQUksQ0FBQ0EsU0FBUyxDQUFDQyxVQUFVO1lBQ3ZCLE9BQU9QLGtGQUFZQSxDQUFDUSxJQUFJLENBQ3RCO2dCQUFFRyxTQUFTO1lBQWtDLEdBQzdDO2dCQUFFQyxRQUFRO1lBQUk7UUFFbEI7UUFFQSx3QkFBd0I7UUFDeEIsTUFBTUMsT0FBTyxNQUFNWCwrREFBY0EsQ0FBQ0k7UUFDbENHLFFBQVFDLEdBQUcsQ0FBQywyQkFBMkJHLE9BQU8sUUFBUTtRQUV0RCxJQUFJLENBQUNBLE1BQU07WUFDVEosUUFBUUMsR0FBRyxDQUFDO1lBQ1osT0FBT1Ysa0ZBQVlBLENBQUNRLElBQUksQ0FDdEI7Z0JBQUVHLFNBQVM7WUFBNEIsR0FDdkM7Z0JBQUVDLFFBQVE7WUFBSTtRQUVsQjtRQUVBSCxRQUFRQyxHQUFHLENBQUMsdUJBQXVCLENBQUMsQ0FBQ0csS0FBS04sUUFBUTtRQUVsRCxrQkFBa0I7UUFDbEIsTUFBTU8sa0JBQWtCLE1BQU1iLHdEQUFjLENBQUNNLFVBQVVNLEtBQUtOLFFBQVE7UUFDcEVFLFFBQVFDLEdBQUcsQ0FBQyxtQkFBbUJJO1FBRS9CLElBQUksQ0FBQ0EsaUJBQWlCO1lBQ3BCTCxRQUFRQyxHQUFHLENBQUM7WUFDWixPQUFPVixrRkFBWUEsQ0FBQ1EsSUFBSSxDQUN0QjtnQkFBRUcsU0FBUztZQUE0QixHQUN2QztnQkFBRUMsUUFBUTtZQUFJO1FBRWxCO1FBRUFILFFBQVFDLEdBQUcsQ0FBQztRQUVaLDJEQUEyRDtRQUMzRE0sV0FBVztZQUNULElBQUk7Z0JBQ0ZQLFFBQVFDLEdBQUcsQ0FBQztnQkFDWixNQUFNTyxnQkFBZ0IsTUFBTWQsb0VBQWdCQSxDQUFDVSxLQUFLUCxLQUFLLEVBQUVPLEtBQUtLLElBQUksSUFBSUwsS0FBS1AsS0FBSyxDQUFDYSxLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUU7Z0JBRTlGLElBQUlGLGNBQWNHLE9BQU8sRUFBRTtvQkFDekJYLFFBQVFDLEdBQUcsQ0FBQztnQkFDZCxPQUFPO29CQUNMRCxRQUFRQyxHQUFHLENBQUMsOEJBQThCTyxjQUFjSSxLQUFLLEVBQUVWLFdBQVc7Z0JBQzFFLDhDQUE4QztnQkFDaEQ7WUFDRixFQUFFLE9BQU9XLFlBQVk7Z0JBQ25CYixRQUFRQyxHQUFHLENBQUMsMkNBQTJDWSxXQUFXWCxPQUFPO1lBQ3pFLDhDQUE4QztZQUNoRDtRQUNGLEdBQUc7UUFFSCwrQ0FBK0M7UUFDL0MsT0FBT1gsa0ZBQVlBLENBQUNRLElBQUksQ0FBQztZQUN2QlksU0FBUztZQUNUVCxTQUFTO1lBQ1RFLE1BQU07Z0JBQ0pVLElBQUlWLEtBQUtVLEVBQUU7Z0JBQ1hqQixPQUFPTyxLQUFLUCxLQUFLO2dCQUNqQlksTUFBTUwsS0FBS0ssSUFBSTtZQUNqQjtRQUNGO0lBRUYsRUFBRSxPQUFPRyxPQUFPO1FBQ2RaLFFBQVFZLEtBQUssQ0FBQyxnQkFBZ0JBO1FBQzlCLE9BQU9yQixrRkFBWUEsQ0FBQ1EsSUFBSSxDQUN0QjtZQUFFRyxTQUFTO1FBQXFCLEdBQ2hDO1lBQUVDLFFBQVE7UUFBSTtJQUVsQjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZW1wb3dlcmFiaWxpdHktZnJvbnRlbmQvLi9hcHAvYXBpL2F1dGgvbG9naW4vcm91dGUuanM/OGYwZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcidcbmltcG9ydCBiY3J5cHQgZnJvbSAnYmNyeXB0anMnXG5pbXBvcnQgeyBnZXRVc2VyQnlFbWFpbCB9IGZyb20gJy4uLy4uLy4uLy4uL2xpYi9hdXRoLXV0aWxzJ1xuaW1wb3J0IHsgc2VuZFdlbGNvbWVFbWFpbCB9IGZyb20gXCJAL2xpYi9lbWFpbC1zZXJ2aWNlXCI7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcXVlc3QpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCB7IGVtYWlsLCBwYXNzd29yZCB9ID0gYXdhaXQgcmVxdWVzdC5qc29uKClcblxuICAgIGNvbnNvbGUubG9nKCc9PT0gTE9HSU4gQVRURU1QVCA9PT0nKVxuICAgIGNvbnNvbGUubG9nKCdFbWFpbDonLCBlbWFpbClcblxuICAgIGlmICghZW1haWwgfHwgIXBhc3N3b3JkKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgbWVzc2FnZTogJ0VtYWlsIGFuZCBwYXNzd29yZCBhcmUgcmVxdWlyZWQnIH0sXG4gICAgICAgIHsgc3RhdHVzOiA0MDAgfVxuICAgICAgKVxuICAgIH1cblxuICAgIC8vIEZpbmQgdXNlciBpbiBkYXRhYmFzZVxuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBnZXRVc2VyQnlFbWFpbChlbWFpbClcbiAgICBjb25zb2xlLmxvZygnVXNlciBmb3VuZCBpbiBkYXRhYmFzZTonLCB1c2VyID8gJ1llcycgOiAnTm8nKVxuICAgIFxuICAgIGlmICghdXNlcikge1xuICAgICAgY29uc29sZS5sb2coJz09PSBMT0dJTiBGQUlMRUQ6IFVzZXIgbm90IGZvdW5kID09PScpXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgbWVzc2FnZTogJ0ludmFsaWQgZW1haWwgb3IgcGFzc3dvcmQnIH0sXG4gICAgICAgIHsgc3RhdHVzOiA0MDEgfVxuICAgICAgKVxuICAgIH1cblxuICAgIGNvbnNvbGUubG9nKCdTdG9yZWQgaGFzaCBleGlzdHM6JywgISF1c2VyLnBhc3N3b3JkKVxuXG4gICAgLy8gVmVyaWZ5IHBhc3N3b3JkXG4gICAgY29uc3QgaXNQYXNzd29yZFZhbGlkID0gYXdhaXQgYmNyeXB0LmNvbXBhcmUocGFzc3dvcmQsIHVzZXIucGFzc3dvcmQpXG4gICAgY29uc29sZS5sb2coJ1Bhc3N3b3JkIHZhbGlkOicsIGlzUGFzc3dvcmRWYWxpZClcbiAgICBcbiAgICBpZiAoIWlzUGFzc3dvcmRWYWxpZCkge1xuICAgICAgY29uc29sZS5sb2coJz09PSBMT0dJTiBGQUlMRUQ6IFBhc3N3b3JkIG1pc21hdGNoID09PScpXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgbWVzc2FnZTogJ0ludmFsaWQgZW1haWwgb3IgcGFzc3dvcmQnIH0sXG4gICAgICAgIHsgc3RhdHVzOiA0MDEgfVxuICAgICAgKVxuICAgIH1cblxuICAgIGNvbnNvbGUubG9nKCc9PT0gTE9HSU4gU1VDQ0VTUyA9PT0nKVxuXG4gICAgLy8gU2VuZCB3ZWxjb21lIGVtYWlsIGluIGJhY2tncm91bmQgd2l0aCB0aW1lb3V0IHByb3RlY3Rpb25cbiAgICBzZXRUaW1lb3V0KGFzeW5jICgpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCfwn46JIEF0dGVtcHRpbmcgdG8gc2VuZCB3ZWxjb21lIGVtYWlsLi4uJylcbiAgICAgICAgY29uc3Qgd2VsY29tZVJlc3VsdCA9IGF3YWl0IHNlbmRXZWxjb21lRW1haWwodXNlci5lbWFpbCwgdXNlci5uYW1lIHx8IHVzZXIuZW1haWwuc3BsaXQoJ0AnKVswXSlcbiAgICAgICAgXG4gICAgICAgIGlmICh3ZWxjb21lUmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIFdlbGNvbWUgZW1haWwgc2VudCBzdWNjZXNzZnVsbHknKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCfihLnvuI8gV2VsY29tZSBlbWFpbCBub3Qgc2VudDonLCB3ZWxjb21lUmVzdWx0LmVycm9yPy5tZXNzYWdlIHx8ICdVbmtub3duIGVycm9yJylcbiAgICAgICAgICAvLyBUaGlzIGlzIG5vbi1jcml0aWNhbCAtIGxvZ2luIHN0aWxsIHN1Y2NlZWRzXG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVtYWlsRXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ+KEue+4jyBXZWxjb21lIGVtYWlsIGZhaWxlZCAobm9uLWNyaXRpY2FsKTonLCBlbWFpbEVycm9yLm1lc3NhZ2UpXG4gICAgICAgIC8vIFRoaXMgaXMgbm9uLWNyaXRpY2FsIC0gbG9naW4gc3RpbGwgc3VjY2VlZHNcbiAgICAgIH1cbiAgICB9LCAxMDApO1xuXG4gICAgLy8gTG9naW4gc3VjY2Vzc2Z1bCByZWdhcmRsZXNzIG9mIGVtYWlsIG91dGNvbWVcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgIG1lc3NhZ2U6ICdMb2dpbiBzdWNjZXNzZnVsJyxcbiAgICAgIHVzZXI6IHtcbiAgICAgICAgaWQ6IHVzZXIuaWQsXG4gICAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxuICAgICAgICBuYW1lOiB1c2VyLm5hbWVcbiAgICAgIH1cbiAgICB9KVxuXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignTG9naW4gZXJyb3I6JywgZXJyb3IpXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgeyBtZXNzYWdlOiAnRXJyb3IgZHVyaW5nIGxvZ2luJyB9LFxuICAgICAgeyBzdGF0dXM6IDUwMCB9XG4gICAgKVxuICB9XG59XG4iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwiYmNyeXB0IiwiZ2V0VXNlckJ5RW1haWwiLCJzZW5kV2VsY29tZUVtYWlsIiwiUE9TVCIsInJlcXVlc3QiLCJlbWFpbCIsInBhc3N3b3JkIiwianNvbiIsImNvbnNvbGUiLCJsb2ciLCJtZXNzYWdlIiwic3RhdHVzIiwidXNlciIsImlzUGFzc3dvcmRWYWxpZCIsImNvbXBhcmUiLCJzZXRUaW1lb3V0Iiwid2VsY29tZVJlc3VsdCIsIm5hbWUiLCJzcGxpdCIsInN1Y2Nlc3MiLCJlcnJvciIsImVtYWlsRXJyb3IiLCJpZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/api/auth/login/route.js\n");

/***/ }),

/***/ "(rsc)/./lib/auth-utils.js":
/*!***************************!*\
  !*** ./lib/auth-utils.js ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createResetToken: () => (/* binding */ createResetToken),\n/* harmony export */   createUser: () => (/* binding */ createUser),\n/* harmony export */   getAllUsers: () => (/* binding */ getAllUsers),\n/* harmony export */   getOrCreateUserForReset: () => (/* binding */ getOrCreateUserForReset),\n/* harmony export */   getUserByEmail: () => (/* binding */ getUserByEmail),\n/* harmony export */   markTokenAsUsed: () => (/* binding */ markTokenAsUsed),\n/* harmony export */   updateUserPassword: () => (/* binding */ updateUserPassword),\n/* harmony export */   validateResetToken: () => (/* binding */ validateResetToken),\n/* harmony export */   verifyPassword: () => (/* binding */ verifyPassword)\n/* harmony export */ });\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! bcryptjs */ \"(rsc)/./node_modules/bcryptjs/index.js\");\n\n\nconst prisma = new _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient();\nasync function getUserByEmail(email) {\n    try {\n        return await prisma.user.findUnique({\n            where: {\n                email\n            }\n        });\n    } catch (error) {\n        console.error(\"Error getting user by email:\", error);\n        return null;\n    }\n}\nasync function createUser(userData) {\n    const { email, password, name, phone, disabilityType, bio } = userData;\n    try {\n        console.log(\"Creating user:\", {\n            email,\n            name,\n            phone,\n            disabilityType\n        });\n        // Hash the password\n        const hashedPassword = await bcryptjs__WEBPACK_IMPORTED_MODULE_1__[\"default\"].hash(password, 12);\n        const user = await prisma.user.create({\n            data: {\n                email,\n                password: hashedPassword,\n                name: name || email.split(\"@\")[0],\n                phone,\n                disabilityType,\n                bio\n            }\n        });\n        console.log(\"User created successfully:\", user.email);\n        return user;\n    } catch (error) {\n        console.error(\"Error creating user:\", error);\n        // If user already exists, return that error\n        if (error.code === \"P2002\") {\n            throw error;\n        }\n        return null;\n    }\n}\nasync function updateUserPassword(email, newPassword) {\n    try {\n        console.log(\"Updating password for:\", email);\n        // Hash the new password\n        const hashedPassword = await bcryptjs__WEBPACK_IMPORTED_MODULE_1__[\"default\"].hash(newPassword, 12);\n        const user = await prisma.user.update({\n            where: {\n                email\n            },\n            data: {\n                password: hashedPassword\n            }\n        });\n        console.log(\"Password updated successfully for:\", email);\n        return user;\n    } catch (error) {\n        console.error(\"Error updating password:\", error);\n        return null;\n    }\n}\nasync function createResetToken(userId) {\n    try {\n        const token = Math.random().toString(36).substring(2) + Date.now().toString(36);\n        const expires = new Date(Date.now() + 60 * 60 * 1000) // 1 hour from now\n        ;\n        const resetToken = await prisma.passwordResetToken.create({\n            data: {\n                userId,\n                token,\n                expires\n            }\n        });\n        return resetToken;\n    } catch (error) {\n        console.error(\"Error creating reset token:\", error);\n        return null;\n    }\n}\nasync function validateResetToken(token) {\n    try {\n        const resetToken = await prisma.passwordResetToken.findFirst({\n            where: {\n                token,\n                used: false,\n                expires: {\n                    gt: new Date()\n                }\n            },\n            include: {\n                user: true\n            }\n        });\n        return resetToken;\n    } catch (error) {\n        console.error(\"Error validating reset token:\", error);\n        return null;\n    }\n}\nasync function markTokenAsUsed(token) {\n    try {\n        await prisma.passwordResetToken.update({\n            where: {\n                token\n            },\n            data: {\n                used: true\n            }\n        });\n    } catch (error) {\n        console.error(\"Error marking token as used:\", error);\n    }\n}\nasync function getAllUsers() {\n    try {\n        return await prisma.user.findMany({\n            select: {\n                id: true,\n                email: true,\n                name: true,\n                createdAt: true\n            }\n        });\n    } catch (error) {\n        console.error(\"Error getting all users:\", error);\n        return [];\n    }\n}\nasync function getOrCreateUserForReset(email) {\n    try {\n        let user = await getUserByEmail(email);\n        if (!user) {\n            // Create a temporary user with a random password\n            const tempPassword = Math.random().toString(36).slice(-8);\n            user = await createUser({\n                email,\n                password: tempPassword,\n                name: email.split(\"@\")[0]\n            });\n        }\n        return user;\n    } catch (error) {\n        console.error(\"Error in getOrCreateUserForReset:\", error);\n        return null;\n    }\n}\nasync function verifyPassword(plainPassword, hashedPassword) {\n    try {\n        return await bcryptjs__WEBPACK_IMPORTED_MODULE_1__[\"default\"].compare(plainPassword, hashedPassword);\n    } catch (error) {\n        console.error(\"Error verifying password:\", error);\n        return false;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QyxhQUFhLEVBQUVwQyxjQUFjO0lBQ2hFLElBQUk7UUFDRixPQUFPLE1BQU1qQix3REFBYyxDQUFDcUQsZUFBZXBDO0lBQzdDLEVBQUUsT0FBT1YsT0FBTztRQUNkQyxRQUFRRCxLQUFLLENBQUMsNkJBQTZCQTtRQUMzQyxPQUFPO0lBQ1Q7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2VtcG93ZXJhYmlsaXR5LWZyb250ZW5kLy4vbGliL2F1dGgtdXRpbHMuanM/ODg5OSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQcmlzbWFDbGllbnQgfSBmcm9tICdAcHJpc21hL2NsaWVudCdcbmltcG9ydCBiY3J5cHQgZnJvbSAnYmNyeXB0anMnXG5cbmNvbnN0IHByaXNtYSA9IG5ldyBQcmlzbWFDbGllbnQoKVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0VXNlckJ5RW1haWwoZW1haWwpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gYXdhaXQgcHJpc21hLnVzZXIuZmluZFVuaXF1ZSh7XG4gICAgICB3aGVyZTogeyBlbWFpbCB9XG4gICAgfSlcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBnZXR0aW5nIHVzZXIgYnkgZW1haWw6JywgZXJyb3IpXG4gICAgcmV0dXJuIG51bGxcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlVXNlcih1c2VyRGF0YSkge1xuICBjb25zdCB7IGVtYWlsLCBwYXNzd29yZCwgbmFtZSwgcGhvbmUsIGRpc2FiaWxpdHlUeXBlLCBiaW8gfSA9IHVzZXJEYXRhXG4gIHRyeSB7XG4gICAgY29uc29sZS5sb2coJ0NyZWF0aW5nIHVzZXI6JywgeyBlbWFpbCwgbmFtZSwgcGhvbmUsIGRpc2FiaWxpdHlUeXBlIH0pXG5cbiAgICAvLyBIYXNoIHRoZSBwYXNzd29yZFxuICAgIGNvbnN0IGhhc2hlZFBhc3N3b3JkID0gYXdhaXQgYmNyeXB0Lmhhc2gocGFzc3dvcmQsIDEyKVxuXG4gICAgY29uc3QgdXNlciA9IGF3YWl0IHByaXNtYS51c2VyLmNyZWF0ZSh7XG4gICAgICBkYXRhOiB7XG4gICAgICAgIGVtYWlsLFxuICAgICAgICBwYXNzd29yZDogaGFzaGVkUGFzc3dvcmQsXG4gICAgICAgIG5hbWU6IG5hbWUgfHwgZW1haWwuc3BsaXQoJ0AnKVswXSxcbiAgICAgICAgcGhvbmUsXG4gICAgICAgIGRpc2FiaWxpdHlUeXBlLFxuICAgICAgICBiaW9cbiAgICAgIH1cbiAgICB9KVxuXG4gICAgY29uc29sZS5sb2coJ1VzZXIgY3JlYXRlZCBzdWNjZXNzZnVsbHk6JywgdXNlci5lbWFpbClcbiAgICByZXR1cm4gdXNlclxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNyZWF0aW5nIHVzZXI6JywgZXJyb3IpXG4gICAgXG4gICAgLy8gSWYgdXNlciBhbHJlYWR5IGV4aXN0cywgcmV0dXJuIHRoYXQgZXJyb3JcbiAgICBpZiAoZXJyb3IuY29kZSA9PT0gJ1AyMDAyJykge1xuICAgICAgdGhyb3cgZXJyb3JcbiAgICB9XG4gICAgcmV0dXJuIG51bGxcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdXBkYXRlVXNlclBhc3N3b3JkKGVtYWlsLCBuZXdQYXNzd29yZCkge1xuICB0cnkge1xuICAgIGNvbnNvbGUubG9nKCdVcGRhdGluZyBwYXNzd29yZCBmb3I6JywgZW1haWwpXG4gICAgXG4gICAgLy8gSGFzaCB0aGUgbmV3IHBhc3N3b3JkXG4gICAgY29uc3QgaGFzaGVkUGFzc3dvcmQgPSBhd2FpdCBiY3J5cHQuaGFzaChuZXdQYXNzd29yZCwgMTIpXG4gICAgXG4gICAgY29uc3QgdXNlciA9IGF3YWl0IHByaXNtYS51c2VyLnVwZGF0ZSh7XG4gICAgICB3aGVyZTogeyBlbWFpbCB9LFxuICAgICAgZGF0YTogeyBwYXNzd29yZDogaGFzaGVkUGFzc3dvcmQgfVxuICAgIH0pXG4gICAgXG4gICAgY29uc29sZS5sb2coJ1Bhc3N3b3JkIHVwZGF0ZWQgc3VjY2Vzc2Z1bGx5IGZvcjonLCBlbWFpbClcbiAgICByZXR1cm4gdXNlclxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHVwZGF0aW5nIHBhc3N3b3JkOicsIGVycm9yKVxuICAgIHJldHVybiBudWxsXG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZVJlc2V0VG9rZW4odXNlcklkKSB7XG4gIHRyeSB7XG4gICAgY29uc3QgdG9rZW4gPSBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMikgKyBEYXRlLm5vdygpLnRvU3RyaW5nKDM2KVxuICAgIGNvbnN0IGV4cGlyZXMgPSBuZXcgRGF0ZShEYXRlLm5vdygpICsgNjAgKiA2MCAqIDEwMDApIC8vIDEgaG91ciBmcm9tIG5vd1xuICAgIFxuICAgIGNvbnN0IHJlc2V0VG9rZW4gPSBhd2FpdCBwcmlzbWEucGFzc3dvcmRSZXNldFRva2VuLmNyZWF0ZSh7XG4gICAgICBkYXRhOiB7XG4gICAgICAgIHVzZXJJZCxcbiAgICAgICAgdG9rZW4sXG4gICAgICAgIGV4cGlyZXNcbiAgICAgIH1cbiAgICB9KVxuICAgIFxuICAgIHJldHVybiByZXNldFRva2VuXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgY3JlYXRpbmcgcmVzZXQgdG9rZW46JywgZXJyb3IpXG4gICAgcmV0dXJuIG51bGxcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdmFsaWRhdGVSZXNldFRva2VuKHRva2VuKSB7XG4gIHRyeSB7XG4gICAgY29uc3QgcmVzZXRUb2tlbiA9IGF3YWl0IHByaXNtYS5wYXNzd29yZFJlc2V0VG9rZW4uZmluZEZpcnN0KHtcbiAgICAgIHdoZXJlOiB7XG4gICAgICAgIHRva2VuLFxuICAgICAgICB1c2VkOiBmYWxzZSxcbiAgICAgICAgZXhwaXJlczoge1xuICAgICAgICAgIGd0OiBuZXcgRGF0ZSgpXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBpbmNsdWRlOiB7XG4gICAgICAgIHVzZXI6IHRydWVcbiAgICAgIH1cbiAgICB9KVxuICAgIFxuICAgIHJldHVybiByZXNldFRva2VuXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgdmFsaWRhdGluZyByZXNldCB0b2tlbjonLCBlcnJvcilcbiAgICByZXR1cm4gbnVsbFxuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBtYXJrVG9rZW5Bc1VzZWQodG9rZW4pIHtcbiAgdHJ5IHtcbiAgICBhd2FpdCBwcmlzbWEucGFzc3dvcmRSZXNldFRva2VuLnVwZGF0ZSh7XG4gICAgICB3aGVyZTogeyB0b2tlbiB9LFxuICAgICAgZGF0YTogeyB1c2VkOiB0cnVlIH1cbiAgICB9KVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIG1hcmtpbmcgdG9rZW4gYXMgdXNlZDonLCBlcnJvcilcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0QWxsVXNlcnMoKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGF3YWl0IHByaXNtYS51c2VyLmZpbmRNYW55KHtcbiAgICAgIHNlbGVjdDoge1xuICAgICAgICBpZDogdHJ1ZSxcbiAgICAgICAgZW1haWw6IHRydWUsXG4gICAgICAgIG5hbWU6IHRydWUsXG4gICAgICAgIGNyZWF0ZWRBdDogdHJ1ZVxuICAgICAgfVxuICAgIH0pXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZ2V0dGluZyBhbGwgdXNlcnM6JywgZXJyb3IpXG4gICAgcmV0dXJuIFtdXG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldE9yQ3JlYXRlVXNlckZvclJlc2V0KGVtYWlsKSB7XG4gIHRyeSB7XG4gICAgbGV0IHVzZXIgPSBhd2FpdCBnZXRVc2VyQnlFbWFpbChlbWFpbClcbiAgICBcbiAgICBpZiAoIXVzZXIpIHtcbiAgICAgIC8vIENyZWF0ZSBhIHRlbXBvcmFyeSB1c2VyIHdpdGggYSByYW5kb20gcGFzc3dvcmRcbiAgICAgIGNvbnN0IHRlbXBQYXNzd29yZCA9IE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnNsaWNlKC04KVxuICAgICAgdXNlciA9IGF3YWl0IGNyZWF0ZVVzZXIoe1xuICAgICAgICBlbWFpbCxcbiAgICAgICAgcGFzc3dvcmQ6IHRlbXBQYXNzd29yZCxcbiAgICAgICAgbmFtZTogZW1haWwuc3BsaXQoJ0AnKVswXVxuICAgICAgfSlcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIHVzZXJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBpbiBnZXRPckNyZWF0ZVVzZXJGb3JSZXNldDonLCBlcnJvcilcbiAgICByZXR1cm4gbnVsbFxuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB2ZXJpZnlQYXNzd29yZChwbGFpblBhc3N3b3JkLCBoYXNoZWRQYXNzd29yZCkge1xuICB0cnkge1xuICAgIHJldHVybiBhd2FpdCBiY3J5cHQuY29tcGFyZShwbGFpblBhc3N3b3JkLCBoYXNoZWRQYXNzd29yZClcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciB2ZXJpZnlpbmcgcGFzc3dvcmQ6JywgZXJyb3IpXG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJQcmlzbWFDbGllbnQiLCJiY3J5cHQiLCJwcmlzbWEiLCJnZXRVc2VyQnlFbWFpbCIsImVtYWlsIiwidXNlciIsImZpbmRVbmlxdWUiLCJ3aGVyZSIsImVycm9yIiwiY29uc29sZSIsImNyZWF0ZVVzZXIiLCJ1c2VyRGF0YSIsInBhc3N3b3JkIiwibmFtZSIsInBob25lIiwiZGlzYWJpbGl0eVR5cGUiLCJiaW8iLCJsb2ciLCJoYXNoZWRQYXNzd29yZCIsImhhc2giLCJjcmVhdGUiLCJkYXRhIiwic3BsaXQiLCJjb2RlIiwidXBkYXRlVXNlclBhc3N3b3JkIiwibmV3UGFzc3dvcmQiLCJ1cGRhdGUiLCJjcmVhdGVSZXNldFRva2VuIiwidXNlcklkIiwidG9rZW4iLCJNYXRoIiwicmFuZG9tIiwidG9TdHJpbmciLCJzdWJzdHJpbmciLCJEYXRlIiwibm93IiwiZXhwaXJlcyIsInJlc2V0VG9rZW4iLCJwYXNzd29yZFJlc2V0VG9rZW4iLCJ2YWxpZGF0ZVJlc2V0VG9rZW4iLCJmaW5kRmlyc3QiLCJ1c2VkIiwiZ3QiLCJpbmNsdWRlIiwibWFya1Rva2VuQXNVc2VkIiwiZ2V0QWxsVXNlcnMiLCJmaW5kTWFueSIsInNlbGVjdCIsImlkIiwiY3JlYXRlZEF0IiwiZ2V0T3JDcmVhdGVVc2VyRm9yUmVzZXQiLCJ0ZW1wUGFzc3dvcmQiLCJzbGljZSIsInZlcmlmeVBhc3N3b3JkIiwicGxhaW5QYXNzd29yZCIsImNvbXBhcmUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/auth-utils.js\n");

/***/ }),

/***/ "(rsc)/./lib/email-service.js":
/*!******************************!*\
  !*** ./lib/email-service.js ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   sendWelcomeEmail: () => (/* binding */ sendWelcomeEmail)\n/* harmony export */ });\n/* harmony import */ var dotenv__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! dotenv */ \"(rsc)/./node_modules/dotenv/lib/main.js\");\n/* harmony import */ var dotenv__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(dotenv__WEBPACK_IMPORTED_MODULE_0__);\n\ndotenv__WEBPACK_IMPORTED_MODULE_0___default().config({\n    path: \".env.local\"\n});\nconsole.log(\"\\uD83D\\uDCE7 ULTIMATE Email Service Loading...\");\nconsole.log(\"BREVO_API_KEY:\", process.env.BREVO_API_KEY ? \"‚úÖ Present\" : \"‚ùå Missing\");\nasync function sendWelcomeEmail(email, name) {\n    console.log(\"\\uD83C\\uDFAF ULTIMATE - Processing welcome email for:\", email);\n    console.log(\"\\uD83D\\uDC4B Name:\", name);\n    // Always log the email attempt\n    console.log(\"\\uD83D\\uDCDD ULTIMATE - Logging email attempt:\", {\n        to: email,\n        name: name,\n        subject: `Welcome to EmpowerAbility, ${name}! üéâ`,\n        timestamp: new Date().toISOString(),\n        status: \"attempted\"\n    });\n    if (!process.env.BREVO_API_KEY) {\n        console.log(\"‚ùå ULTIMATE - Missing BREVO_API_KEY\");\n        // Still return success so user registration isn't blocked\n        return {\n            success: true,\n            emailFailed: true,\n            error: \"Missing API key\",\n            message: \"User registered but email failed (missing API key)\"\n        };\n    }\n    try {\n        const htmlTemplate = `\n      <div style=\"font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto; padding: 20px;\">\n        <div style=\"background: #667eea; color: white; padding: 30px; text-align: center;\">\n          <h1>Welcome to EmpowerAbility! üéâ</h1>\n          <p>We're thrilled to have you join our community</p>\n        </div>\n        <div style=\"background: #f9f9f9; padding: 30px;\">\n          <h2>Hello ${name}!</h2>\n          <p>Welcome to EmpowerAbility - your platform for connecting, sharing, and growing together.</p>\n          <p>Start exploring features and connecting with others.</p>\n          <p>Best regards,<br><strong>The EmpowerAbility Team</strong></p>\n        </div>\n      </div>\n    `;\n        console.log(\"\\uD83D\\uDCE4 ULTIMATE - Attempting to send via Brevo API...\");\n        // Add timeout to prevent hanging\n        const controller = new AbortController();\n        const timeoutId = setTimeout(()=>controller.abort(), 10000);\n        const response = await fetch(\"https://api.brevo.com/v3/smtp/email\", {\n            method: \"POST\",\n            headers: {\n                \"api-key\": process.env.BREVO_API_KEY,\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n                sender: {\n                    name: \"EmpowerAbility\",\n                    email: process.env.FROM_EMAIL || \"lamoraugustine122@gmail.com\"\n                },\n                to: [\n                    {\n                        email: email,\n                        name: name\n                    }\n                ],\n                subject: `Welcome to EmpowerAbility, ${name}! üéâ`,\n                htmlContent: htmlTemplate\n            }),\n            signal: controller.signal\n        });\n        clearTimeout(timeoutId);\n        console.log(\"\\uD83D\\uDCE8 ULTIMATE - Response status:\", response.status);\n        if (!response.ok) {\n            const errorText = await response.text();\n            console.log(\"‚ùå ULTIMATE - API error:\", errorText);\n            throw new Error(`HTTP ${response.status}: ${errorText}`);\n        }\n        const data = await response.json();\n        console.log(\"‚úÖ ULTIMATE - Welcome email sent successfully! ID:\", data.messageId);\n        // Log successful send\n        console.log(\"\\uD83D\\uDCDD ULTIMATE - Email sent successfully:\", {\n            to: email,\n            name: name,\n            messageId: data.messageId,\n            timestamp: new Date().toISOString(),\n            status: \"sent\"\n        });\n        return {\n            success: true,\n            data\n        };\n    } catch (error) {\n        if (error.name === \"AbortError\") {\n            console.log(\"‚ùå ULTIMATE - Request timeout (10s)\");\n        } else {\n            console.log(\"‚ùå ULTIMATE - Email failed:\", error.message);\n        }\n        // Log the failure but don't block user registration\n        console.log(\"\\uD83D\\uDCDD ULTIMATE - Email delivery failed:\", {\n            to: email,\n            name: name,\n            error: error.message,\n            timestamp: new Date().toISOString(),\n            status: \"failed\"\n        });\n        return {\n            success: true,\n            emailFailed: true,\n            error: error.message,\n            message: \"User registered but email failed (network/API issue)\"\n        };\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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WUFDbERPLElBQUlGO1lBQ0pDLE1BQU1BO1lBQ05TLE9BQU9BLE1BQU1DLE9BQU87WUFDcEJQLFdBQVcsSUFBSUMsT0FBT0MsV0FBVztZQUNqQ0MsUUFBUTtRQUNWO1FBRUEsT0FBTztZQUNMQyxTQUFTO1lBQ1RDLGFBQWE7WUFDYkMsT0FBT0EsTUFBTUMsT0FBTztZQUNwQkEsU0FBUztRQUNYO0lBQ0Y7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2VtcG93ZXJhYmlsaXR5LWZyb250ZW5kLy4vbGliL2VtYWlsLXNlcnZpY2UuanM/ZWUzMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZG90ZW52IGZyb20gJ2RvdGVudic7XG5cbmRvdGVudi5jb25maWcoeyBwYXRoOiAnLmVudi5sb2NhbCcgfSk7XG5cbmNvbnNvbGUubG9nKCfwn5OnIFVMVElNQVRFIEVtYWlsIFNlcnZpY2UgTG9hZGluZy4uLicpO1xuY29uc29sZS5sb2coJ0JSRVZPX0FQSV9LRVk6JywgcHJvY2Vzcy5lbnYuQlJFVk9fQVBJX0tFWSA/ICfinIUgUHJlc2VudCcgOiAn4p2MIE1pc3NpbmcnKTtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNlbmRXZWxjb21lRW1haWwoZW1haWwsIG5hbWUpIHtcbiAgY29uc29sZS5sb2coJ/Cfjq8gVUxUSU1BVEUgLSBQcm9jZXNzaW5nIHdlbGNvbWUgZW1haWwgZm9yOicsIGVtYWlsKTtcbiAgY29uc29sZS5sb2coJ/CfkYsgTmFtZTonLCBuYW1lKTtcbiAgXG4gIC8vIEFsd2F5cyBsb2cgdGhlIGVtYWlsIGF0dGVtcHRcbiAgY29uc29sZS5sb2coJ/Cfk50gVUxUSU1BVEUgLSBMb2dnaW5nIGVtYWlsIGF0dGVtcHQ6Jywge1xuICAgIHRvOiBlbWFpbCxcbiAgICBuYW1lOiBuYW1lLFxuICAgIHN1YmplY3Q6IGBXZWxjb21lIHRvIEVtcG93ZXJBYmlsaXR5LCAke25hbWV9ISDwn46JYCxcbiAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICBzdGF0dXM6ICdhdHRlbXB0ZWQnXG4gIH0pO1xuXG4gIGlmICghcHJvY2Vzcy5lbnYuQlJFVk9fQVBJX0tFWSkge1xuICAgIGNvbnNvbGUubG9nKCfinYwgVUxUSU1BVEUgLSBNaXNzaW5nIEJSRVZPX0FQSV9LRVknKTtcbiAgICAvLyBTdGlsbCByZXR1cm4gc3VjY2VzcyBzbyB1c2VyIHJlZ2lzdHJhdGlvbiBpc24ndCBibG9ja2VkXG4gICAgcmV0dXJuIHsgXG4gICAgICBzdWNjZXNzOiB0cnVlLCBcbiAgICAgIGVtYWlsRmFpbGVkOiB0cnVlLCBcbiAgICAgIGVycm9yOiAnTWlzc2luZyBBUEkga2V5JyxcbiAgICAgIG1lc3NhZ2U6ICdVc2VyIHJlZ2lzdGVyZWQgYnV0IGVtYWlsIGZhaWxlZCAobWlzc2luZyBBUEkga2V5KSdcbiAgICB9O1xuICB9XG5cbiAgdHJ5IHtcbiAgICBjb25zdCBodG1sVGVtcGxhdGUgPSBgXG4gICAgICA8ZGl2IHN0eWxlPVwiZm9udC1mYW1pbHk6IEFyaWFsLCBzYW5zLXNlcmlmOyBtYXgtd2lkdGg6IDYwMHB4OyBtYXJnaW46IDAgYXV0bzsgcGFkZGluZzogMjBweDtcIj5cbiAgICAgICAgPGRpdiBzdHlsZT1cImJhY2tncm91bmQ6ICM2NjdlZWE7IGNvbG9yOiB3aGl0ZTsgcGFkZGluZzogMzBweDsgdGV4dC1hbGlnbjogY2VudGVyO1wiPlxuICAgICAgICAgIDxoMT5XZWxjb21lIHRvIEVtcG93ZXJBYmlsaXR5ISDwn46JPC9oMT5cbiAgICAgICAgICA8cD5XZSdyZSB0aHJpbGxlZCB0byBoYXZlIHlvdSBqb2luIG91ciBjb21tdW5pdHk8L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IHN0eWxlPVwiYmFja2dyb3VuZDogI2Y5ZjlmOTsgcGFkZGluZzogMzBweDtcIj5cbiAgICAgICAgICA8aDI+SGVsbG8gJHtuYW1lfSE8L2gyPlxuICAgICAgICAgIDxwPldlbGNvbWUgdG8gRW1wb3dlckFiaWxpdHkgLSB5b3VyIHBsYXRmb3JtIGZvciBjb25uZWN0aW5nLCBzaGFyaW5nLCBhbmQgZ3Jvd2luZyB0b2dldGhlci48L3A+XG4gICAgICAgICAgPHA+U3RhcnQgZXhwbG9yaW5nIGZlYXR1cmVzIGFuZCBjb25uZWN0aW5nIHdpdGggb3RoZXJzLjwvcD5cbiAgICAgICAgICA8cD5CZXN0IHJlZ2FyZHMsPGJyPjxzdHJvbmc+VGhlIEVtcG93ZXJBYmlsaXR5IFRlYW08L3N0cm9uZz48L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgYDtcblxuICAgIGNvbnNvbGUubG9nKCfwn5OkIFVMVElNQVRFIC0gQXR0ZW1wdGluZyB0byBzZW5kIHZpYSBCcmV2byBBUEkuLi4nKTtcbiAgICBcbiAgICAvLyBBZGQgdGltZW91dCB0byBwcmV2ZW50IGhhbmdpbmdcbiAgICBjb25zdCBjb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICAgIGNvbnN0IHRpbWVvdXRJZCA9IHNldFRpbWVvdXQoKCkgPT4gY29udHJvbGxlci5hYm9ydCgpLCAxMDAwMCk7XG5cbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCdodHRwczovL2FwaS5icmV2by5jb20vdjMvc210cC9lbWFpbCcsIHtcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICAnYXBpLWtleSc6IHByb2Nlc3MuZW52LkJSRVZPX0FQSV9LRVksXG4gICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICB9LFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBzZW5kZXI6IHtcbiAgICAgICAgICBuYW1lOiAnRW1wb3dlckFiaWxpdHknLFxuICAgICAgICAgIGVtYWlsOiBwcm9jZXNzLmVudi5GUk9NX0VNQUlMIHx8ICdsYW1vcmF1Z3VzdGluZTEyMkBnbWFpbC5jb20nXG4gICAgICAgIH0sXG4gICAgICAgIHRvOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgZW1haWw6IGVtYWlsLFxuICAgICAgICAgICAgbmFtZTogbmFtZVxuICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgc3ViamVjdDogYFdlbGNvbWUgdG8gRW1wb3dlckFiaWxpdHksICR7bmFtZX0hIPCfjolgLFxuICAgICAgICBodG1sQ29udGVudDogaHRtbFRlbXBsYXRlXG4gICAgICB9KSxcbiAgICAgIHNpZ25hbDogY29udHJvbGxlci5zaWduYWxcbiAgICB9KTtcblxuICAgIGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xuXG4gICAgY29uc29sZS5sb2coJ/Cfk6ggVUxUSU1BVEUgLSBSZXNwb25zZSBzdGF0dXM6JywgcmVzcG9uc2Uuc3RhdHVzKTtcbiAgICBcbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICBjb25zdCBlcnJvclRleHQgPSBhd2FpdCByZXNwb25zZS50ZXh0KCk7XG4gICAgICBjb25zb2xlLmxvZygn4p2MIFVMVElNQVRFIC0gQVBJIGVycm9yOicsIGVycm9yVGV4dCk7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEhUVFAgJHtyZXNwb25zZS5zdGF0dXN9OiAke2Vycm9yVGV4dH1gKTtcbiAgICB9XG5cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgIGNvbnNvbGUubG9nKCfinIUgVUxUSU1BVEUgLSBXZWxjb21lIGVtYWlsIHNlbnQgc3VjY2Vzc2Z1bGx5ISBJRDonLCBkYXRhLm1lc3NhZ2VJZCk7XG4gICAgXG4gICAgLy8gTG9nIHN1Y2Nlc3NmdWwgc2VuZFxuICAgIGNvbnNvbGUubG9nKCfwn5OdIFVMVElNQVRFIC0gRW1haWwgc2VudCBzdWNjZXNzZnVsbHk6Jywge1xuICAgICAgdG86IGVtYWlsLFxuICAgICAgbmFtZTogbmFtZSxcbiAgICAgIG1lc3NhZ2VJZDogZGF0YS5tZXNzYWdlSWQsXG4gICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgIHN0YXR1czogJ3NlbnQnXG4gICAgfSk7XG4gICAgXG4gICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YSB9O1xuXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgaWYgKGVycm9yLm5hbWUgPT09ICdBYm9ydEVycm9yJykge1xuICAgICAgY29uc29sZS5sb2coJ+KdjCBVTFRJTUFURSAtIFJlcXVlc3QgdGltZW91dCAoMTBzKScpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmxvZygn4p2MIFVMVElNQVRFIC0gRW1haWwgZmFpbGVkOicsIGVycm9yLm1lc3NhZ2UpO1xuICAgIH1cbiAgICBcbiAgICAvLyBMb2cgdGhlIGZhaWx1cmUgYnV0IGRvbid0IGJsb2NrIHVzZXIgcmVnaXN0cmF0aW9uXG4gICAgY29uc29sZS5sb2coJ/Cfk50gVUxUSU1BVEUgLSBFbWFpbCBkZWxpdmVyeSBmYWlsZWQ6Jywge1xuICAgICAgdG86IGVtYWlsLFxuICAgICAgbmFtZTogbmFtZSxcbiAgICAgIGVycm9yOiBlcnJvci5tZXNzYWdlLFxuICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICBzdGF0dXM6ICdmYWlsZWQnXG4gICAgfSk7XG4gICAgXG4gICAgcmV0dXJuIHsgXG4gICAgICBzdWNjZXNzOiB0cnVlLCBcbiAgICAgIGVtYWlsRmFpbGVkOiB0cnVlLCBcbiAgICAgIGVycm9yOiBlcnJvci5tZXNzYWdlLFxuICAgICAgbWVzc2FnZTogJ1VzZXIgcmVnaXN0ZXJlZCBidXQgZW1haWwgZmFpbGVkIChuZXR3b3JrL0FQSSBpc3N1ZSknXG4gICAgfTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbImRvdGVudiIsImNvbmZpZyIsInBhdGgiLCJjb25zb2xlIiwibG9nIiwicHJvY2VzcyIsImVudiIsIkJSRVZPX0FQSV9LRVkiLCJzZW5kV2VsY29tZUVtYWlsIiwiZW1haWwiLCJuYW1lIiwidG8iLCJzdWJqZWN0IiwidGltZXN0YW1wIiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwic3RhdHVzIiwic3VjY2VzcyIsImVtYWlsRmFpbGVkIiwiZXJyb3IiLCJtZXNzYWdlIiwiaHRtbFRlbXBsYXRlIiwiY29udHJvbGxlciIsIkFib3J0Q29udHJvbGxlciIsInRpbWVvdXRJZCIsInNldFRpbWVvdXQiLCJhYm9ydCIsInJlc3BvbnNlIiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJzZW5kZXIiLCJGUk9NX0VNQUlMIiwiaHRtbENvbnRlbnQiLCJzaWduYWwiLCJjbGVhclRpbWVvdXQiLCJvayIsImVycm9yVGV4dCIsInRleHQiLCJFcnJvciIsImRhdGEiLCJqc29uIiwibWVzc2FnZUlkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/email-service.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/dotenv","vendor-chunks/bcryptjs"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fauth%2Flogin%2Froute&page=%2Fapi%2Fauth%2Flogin%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2Flogin%2Froute.js&appDir=%2Fhome%2Fmrlamor%2Fempowerability%2Ffrontend%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Fmrlamor%2Fempowerability%2Ffrontend&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();